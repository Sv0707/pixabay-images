{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","services/api.js","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/App/App.js","index.js"],"names":["module","exports","fetchImages","searchItem","currentPage","a","axios","get","res","data","Searchbar","onSubmit","useState","search","setSearch","reset","className","s","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","onChange","target","console","log","autoComplete","autoFocus","placeholder","modalRootRef","document","querySelector","Modal","onClose","children","useEffect","onEscPress","code","window","addEventListener","removeEventListener","createPortal","backdrop","onClick","currentTarget","modal","ImageGalleryItem","image","openImg","largeImageURL","src","webformatURL","alt","tags","ImageGalleryItemImage","ImageGallery","gallery","map","id","Button","Loader","loader","color","height","width","errorTextStyle","textAlign","App","setGallery","page","setPage","isModalOpen","setIsModalOpen","largeImage","setLargeImage","total","setTotal","loading","setLoading","error","setError","showLoadMore","setShowLoadMore","then","hits","length","Promise","reject","Error","prevGallery","catch","finally","Math","ceil","toggleModal","style","message","largeIMG","ReactDom","render","StrictMode"],"mappings":"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","file":"static/js/main.3c8a1b34.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__FqAw6\",\"modal\":\"Modal_modal__2rhTf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__Z5bQs\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3pPPf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__spxKU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__376aZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3gN0K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3oCey\",\"SearchForm\":\"Searchbar_SearchForm__1DpRp\",\"SearchFormButton\":\"Searchbar_SearchFormButton__mCXxv\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1F_OP\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2_jGC\",\"SearchForm-input\":\"Searchbar_SearchForm-input__BCTCY\"};","import axios from 'axios';\r\n\r\nconst fetchImages = async (searchItem, currentPage) => {\r\n  const URL = 'https://pixabay.com/api/';\r\n  const KEY = '23791107-11d3cac259792c6d6696bfd74';\r\n  const res = await axios\r\n        .get(\r\n            `${URL}?q=${searchItem}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`);\r\n    return res.data;\r\n};\r\n\r\nexport default fetchImages;","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [search, setSearch] = useState(\"\");\r\n  // state = {\r\n  //   search: \"\",\r\n  // };\r\n\r\n  const handleInputChange = (e) => {\r\n    setSearch(e.target.value);\r\n    console.log(search);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(search);\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setSearch(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          value={search}\r\n          onChange={handleInputChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func };\r\n\r\nexport default Searchbar;\r\n","// import { Component } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRootRef = document.querySelector(\"#modal-root\");\r\n\r\nconst Modal = ({ onClose, children }) => {\r\n  useEffect(() => {\r\n    const onEscPress = (e) => {\r\n      if (e.code === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", onEscPress);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", onEscPress);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.backdrop} onClick={handleBackdropClick}>\r\n      <div className={s.modal}>{children}</div>\r\n    </div>,\r\n    modalRootRef\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, openImg }) => {\r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => {\r\n        openImg(image.largeImageURL);\r\n      }}\r\n    >\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ gallery, openImg }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {gallery.map((image) => (\r\n        <ImageGalleryItem key={image.id} image={image} openImg={openImg} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(PropTypes.object),\r\n  openImg: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={s.Button} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import Spinner from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Spinner type=\"Circles\" color=\"#3f51b5\" height={200} width={200} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport fetchImages from \"../../services/api\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport Modal from \"../Modal/Modal\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport Loader from \"../Loader/Loader\";\n\nconst errorTextStyle = {\n  textAlign: \"center\",\n};\n\nconst App = () => {\n\n  const [gallery, setGallery] = useState([]);\n  const [search, setSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [showLoadMore, setShowLoadMore] = useState(false);\n\n  useEffect(() => {\n    // const fetchGallery = async () => {\n\n      setLoading(true);\n  console.log(page);\n      fetchImages(search, page)\n        .then(({ hits, total }) => {\n          if (hits.length === 0) {\n            setShowLoadMore (false);\n            setGallery([]);\n            return Promise.reject(\n              new Error(\n                `There is no pictures by ${search} name, please try another request`\n              )\n            );\n            \n          } else {\n              setError(false);\n              setGallery(prevGallery => [...prevGallery, ...hits]);\n              setTotal(total);\n              }\n        }\n        )\n        .catch((error) => setError(error))\n        .finally(() => setLoading(false));\n  }, [search, page]);\n\n  useEffect(() => {\n    if (Math.ceil(total / 12) > page) {\n      setShowLoadMore(true);\n    } \n    else {setShowLoadMore (false)}\n    \n  }, [total, page])\n\nconst toggleModal = () => {\n  setIsModalOpen(!isModalOpen);\n  };\n\nconst handleSubmit = (searchItem) => {\n    setSearch(searchItem);\n    setGallery([]);\n    setPage(1);\n  };\n\nconst handleOpenPicture = (largeIMG) => {\n  console.log(largeIMG);\n  setLargeImage(largeIMG);\n    toggleModal();\n  };\n\n    return (\n      <div>\n        <Searchbar onSubmit={handleSubmit} />\n        {error && <h2 style={errorTextStyle}>{error.message}</h2>}\n        {loading && <Loader />}\n        {gallery.length > 0 && (\n          <ImageGallery gallery={gallery} openImg={handleOpenPicture} />\n        )}\n        {showLoadMore && !loading && (<Button onClick={() => setPage(page + 1)} />\n        )}\n        {isModalOpen && (\n          <Modal onClose={toggleModal}>\n            <img src={largeImage} alt={largeImage} />\n          </Modal>\n        )}\n      </div>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport App from \"./components/App/App\";\n\nReactDom.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}